<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Analyzer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="container">
        <header class="header">
            <h1>Text Analyzer</h1>
        </header>

        <div class="features-section">
            <h2 class="sr-only">Select an analysis feature</h2>
            <div class="features-grid" role="group" aria-label="Analysis features">
                <button class="feature-card" data-feature="sentiment" aria-label="Analyze sentiment: Detect positive, negative and neutral sentiment in text. Get more insights by mining opinions." tabindex="0">
                    <svg class="feature-icon" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="sentimentGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FFD93D;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FFA500;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <rect x="10" y="15" width="32" height="40" rx="3" fill="#E8F4F8" stroke="#A8D8E8" stroke-width="1.5"/>
                        <text x="26" y="32" font-size="16" text-anchor="middle" fill="#333" font-weight="bold">Aa</text>
                        <circle cx="65" cy="32" r="22" fill="url(#sentimentGrad)" stroke="#FF9500" stroke-width="2"/>
                        <circle cx="59" cy="28" r="2.5" fill="white"/>
                        <circle cx="71" cy="28" r="2.5" fill="white"/>
                        <path d="M 59 35 Q 65 38 71 35" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <h2>Analyze sentiment</h2>
                    <p>Detect positive, negative and neutral sentiment in text. Get more insights by mining opinions.</p>
                </button>

                <button class="feature-card" data-feature="phrases" aria-label="Extract key phrases: Identify the most important points in a piece of text." tabindex="0">
                    <svg class="feature-icon" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="phrasesGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#9D5FFF;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#6B5BFD;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <rect x="14" y="18" width="28" height="40" rx="2.5" fill="#F3E8FF" stroke="#D8B4FE" stroke-width="1.5"/>
                        <line x1="19" y1="25" x2="37" y2="25" stroke="#A78BFA" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="19" y1="32" x2="32" y2="32" stroke="#A78BFA" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="19" y1="39" x2="37" y2="39" stroke="#A78BFA" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="19" y1="46" x2="30" y2="46" stroke="#A78BFA" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M 50 20 Q 70 28 50 36" fill="url(#phrasesGrad)"/>
                        <circle cx="68" cy="28" r="12" fill="url(#phrasesGrad)"/>
                        <text x="68" y="32" font-size="14" text-anchor="middle" fill="white" font-weight="bold">+</text>
                    </svg>
                    <h2>Extract key phrases</h2>
                    <p>Identify the most important points in a piece of text.</p>
                </button>

                <button class="feature-card" data-feature="entities" aria-label="Extract named entities: Identify different entities in text and categorize them into predefined types." tabindex="0">
                    <svg class="feature-icon" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="entitiesGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00D4D4;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#0AAAA0;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="entitiesGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FF6B9D;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FF5A8D;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="entitiesGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4FC3F7;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#0097A7;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="22" cy="26" r="5.5" fill="url(#entitiesGrad1)"/>
                        <rect x="16" y="34" width="12" height="15" rx="1.5" fill="url(#entitiesGrad1)"/>
                        <circle cx="52" cy="28" r="6" fill="url(#entitiesGrad2)"/>
                        <rect x="45" y="36" width="14" height="18" rx="2" fill="url(#entitiesGrad2)"/>
                        <circle cx="78" cy="30" r="5" fill="url(#entitiesGrad3)"/>
                        <rect x="72" y="38" width="12" height="14" rx="1.5" fill="url(#entitiesGrad3)"/>
                        <path d="M 22 52 L 32 52" stroke="url(#entitiesGrad1)" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M 45 52 L 60 52" stroke="url(#entitiesGrad2)" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M 72 52 L 82 52" stroke="url(#entitiesGrad3)" stroke-width="2.5" stroke-linecap="round"/>
                    </svg>
                    <h2>Extract named entities</h2>
                    <p>Identify different entities in text and categorize them into predefined types.</p>
                </button>

                <button class="feature-card" data-feature="summary" aria-label="Summarize text: Summarize and extract key information at scale from text." tabindex="0">
                    <svg class="feature-icon" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="summaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#34D399;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <rect x="14" y="16" width="38" height="14" rx="1.5" fill="#D1FAE5" stroke="#6EE7B7" stroke-width="1.5"/>
                        <line x1="19" y1="23" x2="42" y2="23" stroke="#10B981" stroke-width="1.3" stroke-linecap="round"/>
                        <rect x="14" y="38" width="72" height="38" rx="2.5" fill="url(#summaryGrad)"/>
                        <line x1="21" y1="48" x2="76" y2="48" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        <line x1="21" y1="58" x2="68" y2="58" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        <line x1="21" y1="68" x2="63" y2="68" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <h2>Summarize text</h2>
                    <p>Summarize and extract key information at scale from text.</p>
                </button>
            </div>
        </div>

        <div class="main-content">
            <div class="input-section">
                <div class="input-controls">
                    <label for="text-input">Text Input</label>
                </div>
                <textarea id="text-input" placeholder="Select a sample, upload a file or enter your text here" aria-label="Text input area" tabindex="0"></textarea>
                <div class="button-group">
                    <button id="upload-btn" class="upload-icon-btn" aria-label="Upload a text file" tabindex="0">
                        &#128206;
                    </button>
                    <button id="run-btn" class="run-btn" aria-label="Run the selected analysis" tabindex="0">
                        <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M8 5v14l11-7z"></path>
                        </svg>
                    </button>
                </div>
                <input type="file" id="file-input" accept=".txt" style="display: none;">
            </div>

            <div class="sidebar">
                <div class="details-panel">
                    <h2>Details</h2>
                    <div id="results-container" role="region" aria-label="Analysis results" aria-live="polite">
                        <p class="placeholder-text">Your details will appear after you enter or upload some text and press Run</p>
                    </div>
                </div>
            </div>
        </div>

        </main>

    <!-- Scripts for NLP libraries -->
    <!-- Load retext and retext-keywords as ES modules -->
    <script type="module">
        import { retext } from 'https://esm.sh/retext@8?bundle'
        import retextKeywords from 'https://esm.sh/retext-keywords@8?bundle'
        
        window.retextLib = { retext, retextKeywords }
    </script>
    
    <!-- TextRank for summarization -->
    <script src="https://cdn.jsdelivr.net/npm/textrank/textrank.min.js"></script>
    <!-- Compromise.js for NLP tasks -->
    <script src="https://unpkg.com/compromise"></script>
    
    <script src="script.js"></script>
</body>
</html>
